sequenceDiagram
    participant CouponController
    participant CouponService
    participant CouponRepository

    CouponController->>CouponService: 쿠폰 발급 요청
    CouponService->>CouponRepository: 현재 발급 수량 조회
    alt 쿠폰 잔여 수량 및 만료 검증 통과
        CouponService->>CouponRepository: 쿠폰 발급(ISSUED)
        CouponService-->>CouponController: 발급 성공
    else 조건 불충족 (수량 초과 또는 만료)
        CouponService-->>CouponController: CouponException(400 Bad Request) 발생
    end

